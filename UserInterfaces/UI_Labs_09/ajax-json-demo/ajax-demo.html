<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX Demo</title>
    <script>
        // creating an XmlHttpRequest object
        var xhr = false;

        // configuring  xhr object
        if (window.XMLHttpRequest) {
          //  window.alert('Browser can do AJAC - Using XmlHttpRequest object')
            // initializing the xhr object
            xhr = new XMLHttpRequest();
        } else if(window.ActiveXObject) { 
            // initializing the ActiveXObject object
           // window.alert('Browser can not do AJAC - Microsoft.XMLHTTP object');
        } 

        // handling data downloads from the server using anonymous function
        function getData(dataSource, divID) {
            if(xhr) {
                let obj = document.getElementById(divID);
                xhr.open("get", dataSource);

                // passing data to the server using ajax and the get or post http method
                xhr.onreadystatechange = function() {
                    if(xhr.readyState == 4 && xhr.status == 200 ) {
                        obj.innerHTML = xhr.responseText;
                    }
                }
                xhr.send();
            }
        } // end function getData

    </script>
</head>
<body>
    <h1>An AJAX Demo </h1>
    <form>
        <input type="button" value="Fetch the message"
               onclick="getData('json_data/superheroes.json', 'targetDiv')" />
    </form>
    <div id="targetDiv">
        <figure>
            <img src="images/bird_01.jpg" alt="Beautiful birds in the forest" title="Beautiful birds in the forest" width="200" height="130" />
            <figcaption>Beautiful birds in the forest"</figcaption>
        </figure>

        <p>The fetched message will appear here</p>
    </div>
</body>
</html>